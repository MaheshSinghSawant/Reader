<!DOCTYPE html>
<html>
<head>
    <title>Reader</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.css" />
    <link rel="stylesheet" href="css/basic.css">
    <link rel="stylesheet" href="css/thebook.css">

    <script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.js"></script>
    <script src="js/zip.min.js"></script>
    <script src="js/epub.min.js"></script>
    <script src="js/apicalls.js"></script>
    <script src="js/selectingword.js"></script>
    <script>
        "use strict";
        var Book = ePub("books/Percy Jackson_ The Complete Ser - Rick Riordan.epub", {
            width: false,
            height: false,
            styles: {"font-size": "1 em"},
            spreads : false
        });
    </script>
</head>
<body>
<div data-role="page">
    <!--The Title bar-->
    <div data-role="header">
        <h1>Reader</h1>
        <a href="options.html" data-icon="gear" class="ui-btn-right">Options</a>
    </div>

<!--For Testing api calls-->
    <div data-role="main" class="ui-content">
        <a href="#myPopup" data-rel="popup" class=" ui-corner-all"  onclick="doIt(); dontIt();">laptop</a>
        <div data-role="popup" id="myPopup" class="ui-content">
            <a href="#" data-rel="back" class="ui-btn ui-corner-all ui-shadow ui-btn ui-icon-delete ui-btn-icon-notext ui-btn-right"></a>
            <div id="output5"></div>
            <br>
            <!--<button onclick="doIt();">Run word</button>-->
            <h1><div id="output"></div></h1>
            <b><div id="output1"></div></b>
            <div id="output2"></div>
        </div>
    </div>

    <p id="wow" >Changes for git</p>


    <script>
        document.getElementById("wow").ondblclick = function() {myFunction()};
        function myFunction() {
            var t = '';
            if (window.getSelection && (sel = window.getSelection()).modify) {
                // Webkit, Gecko
                var s = window.getSelection();
                if (s.isCollapsed) {
                    s.modify('move', 'forward', 'character');
                    s.modify('move', 'backward', 'word');
                    s.modify('extend', 'forward', 'word');
                    t = s.toString();
                    s.modify('move', 'forward', 'character'); //clear selection
                }
                else {
                    t = s.toString();
                }
            } else if ((sel = document.selection) && sel.type != "Control") {
                // IE 4+
                var textRange = sel.createRange();
                if (!textRange.text) {
                    textRange.expand("word");
                }
                // Remove trailing spaces
                while (/\s$/.test(textRange.text)) {
                    textRange.moveEnd("character", -1);
                }
                t = textRange.text;
            }
            alert(t);
        }
    </script>

    <!--Book Container-->
    <div id = "demo">
    <div id="main">
        <div id="wrapper">
            <div id="area"></div>
        </div>
    </div>
    </div>

    <!--Rendering the book-->
    <script>
        Book.renderTo("area").then(function(){
            //Book.setStyle("width", "400px");
        });
    </script>

    <!--the footer bar-->
    <div data-role="footer" data-position="fixed" data-fullscreen="false">
        <div data-role="navbar">
            <ul>
                <li><a href="theapp.html">Home</a></li>
                <li><a href="theapp.html">Book</a></li>
                <li><a onclick="Book.prevPage();">Prev</a></li>
                <li><a onclick="Book.nextPage();">Next</a></li>
            </ul>
        </div>
    </div>

</div>

</body>
</html>
